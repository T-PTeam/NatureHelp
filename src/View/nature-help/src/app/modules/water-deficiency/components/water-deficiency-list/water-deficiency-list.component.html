<div class="header">
  <h2>Deficiencies (Water)</h2>
  <input type="search" placeholder="Search for deficiencies..." [(ngModel)]="search">
  <button (click)="navigateToDetail()" class="action-btn" id="add-btn"><i class="material-icons">add</i></button>
  <mat-slide-toggle
      [checked]="false"
      (change)="goToSoil()">
  </mat-slide-toggle>
</div>

<div class="list">
  <table class="table">
    <thead class="table-header">
      <tr>
        <th>Dissolved Oxygen</th>
        <th>Ph</th>
        <th>Lead Concentration</th>
        <th>Nitrate Concentration</th>
        <th>Chemical Ox. Demand</th>
        <th>Creator</th>
        <th>Responsible User</th>
        <th>Danger State</th>
        <th></th>
        <th></th>
      </tr>
    </thead>
    <tbody class="table-body">
      <tr *ngFor="let deficiency of waterAPIService.deficiencies$ | async">
        <td>{{ deficiency.dissolvedOxygen }}</td>
        <td>{{ deficiency.ph }}</td>
        <td>{{ deficiency.leadConcentration }}</td>
        <td>{{ deficiency.nitrateConcentration }}</td>
        <td>{{ deficiency.chemicalOxygenDemand }}</td>
        <td>{{ deficiency.creator.firstName }} {{ deficiency.creator.lastName }}</td>
        <td>{{ deficiency.responsibleUser?.firstName }} {{ deficiency.responsibleUser?.lastName }}</td>
        <td>{{ deficiency.eDangerState | enumToString:'EDangerState' }}</td>
        <td class="btn-ceil">
          <button class="action-btn" id="map-focus-btn">
            <i class="fa fa-crosshairs"></i>
          </button>
        </td>
        <td class="btn-ceil">
          <button (click)="navigateToDetail(deficiency.id)" class="action-btn" id="edit-btn">
            <i class="fa fa-edit"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
